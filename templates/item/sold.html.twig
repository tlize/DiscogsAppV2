{% extends "base.html.twig" %}

{% block title %}{{ parent() }} | Sold{% endblock %}

{% block body %}
    <h4>
        {{ items.pagination.items }} Sold Items
    </h4>
    <h6>Order by
        <a href="?sort=price">Price</a> /
        <a href="?sort=item">Title</a> /
        <a href="?sort=artist">Band - Artist</a> /
        <a href="?sort=label">Label</a> /
        <a href="?sort=catno">Catalog #</a>
    </h6>
    <table class="table table-hover table-striped">
        <thead class="thead-dark">
        <tr>
            <th>
                Discogs Id
            </th>
            <th>
                Band / Artist
            </th>
            <th>
                Title
            </th>
            <th>
                Catalog #
            </th>
            <th>
                Format
            </th>
            <th>
                Year
            </th>
            <th>
                Price
            </th>
        </tr>
        </thead>
        <tbody>
        {% for item in items.listings %}
            <tr>
                <td>
                    {% set releasePage = ['https://www.discogs.com/', item.release.description |slug, '/release/', item.release.id] | join %}
                    <a href="{{ releasePage }}" title="Discogs Release Page" target="_blank">{{ item.release.id }}</a>
                </td>
                <td>
                    {{ item.release.artist }}
                </td>
                <td>
                    {{ item.release.title }}
                </td>
                <td>
                    {{ item.release.catalog_number }}
                </td>
                <td>
                    {{ item.release.format }}
                </td>
                <td>
                    {{ item.release.year }}
                </td>
                <td>
                    â‚¬{{ item.price.value | number_format }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% if items.pagination.pages > 1 %}
        {% include 'inc/pagination.html.twig' with {'pagination' : pagination}  %}
    {% endif %}
{% endblock %}

