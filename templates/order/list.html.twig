{% extends "base.html.twig" %}

{% block title %}{{ parent() }} | Orders{% endblock %}

{% block body %}
    <h4>
        All Orders
    </h4>
    <table class="table table-hover table-striped">
        <thead class="thead-dark">
        <tr>
            <th>
                {{ knp_pagination_sortable(orders, 'Order #', 'o.orderNum') }}
            </th>
            <th>
                {{ knp_pagination_sortable(orders, 'Buyer', 'o.buyer') }}
            </th>
            <th>
                {{ knp_pagination_sortable(orders, 'Country', 'o.country') }}
            </th>
            <th>
                {{ knp_pagination_sortable(orders, 'Date Created', 'o.orderDate') }}
            </th>
            <th>
                Nb of Items
            </th>
            <th>
                {{ knp_pagination_sortable(orders, 'Total', 'o.total') }}
            </th>
        </tr>
        </thead>
        <tbody>
        {% for order in orders %}
            <tr>
                <td>
                    <a href="{{ path('order_detail', {'id' : order.id}) }}">
                        {{ order.orderNum }}
                    </a>
                </td>
                <td>
                    {{ order.buyer }}
                </td>
                <td>
                    <a href="">
                        {{ order.country }}
                    </a>
                </td>
                <td>
                    {{ order.orderDate | date("d-m-Y") }}
                </td>
                <td>
                    {{ order.orderItems | length }}
                </td>
                <td>
                    â‚¬{{ order.total | number_format }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="pagination">
        {{ knp_pagination_render(orders) }}
    </div>
{% endblock %}